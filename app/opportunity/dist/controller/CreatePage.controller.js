sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageToast","sap/m/MessageBox"],function(e,t,a){"use strict";return e.extend("opportunity.opportunity.controller.CreatePage",{onInit:function(){},_getText:function(e,t){return this.getOwnerComponent().getModel("i18n").getResourceBundle().getText(e,t)},onNavBackPress:function(e){var t=sap.ui.core.UIComponent.getRouterFor(this);t.navTo("MainReport")},handleCreateOppPress:function(e){var a=this;var i=a.getOwnerComponent().byId("MainReport--mainTable").getBinding("items");var r=this.getView().getModel();var o=r.bindList("/opportunityHeader");var n="";var s=this.getView().byId("opportunityInCRM").getSelected();if(s==true)n="Yes";var u="";var p=this.getView().byId("dateCreated").getValue();if(p!=""&&p!=undefined)u=new Date(this.getView().byId("dateCreated").getValue()).toISOString().split("T")[0];o.create({account:this.getView().byId("account").getValue(),marketUnit:this.getView().byId("marketUnit").getValue(),status:this.getView().byId("status").getValue(),opportunityDate:u,opportunityValue:+this.getView().byId("opportunityValue").getValue(),opportunityCreatedQuarter:this.getView().byId("opportunityCreatedQuarter").getValue(),opportunityClosedQuarter:this.getView().byId("opportunityClosedQuarter").getValue(),primaryContact:this.getView().byId("primaryContact").getValue(),ssa:this.getView().byId("ssa").getValue(),clientContactPerson:this.getView().byId("clientContactPerson").getValue(),opportunityInCRM:n});a.getView().setBusy(false);i.refresh();t.show("New account created successfully.");var g=sap.ui.core.UIComponent.getRouterFor(a);g.navTo("MainReport")}})});