


<mvc:View
    controllerName="opportunity.opportunity.controller.Resources"
    id="Team"
    xmlns:u="sap.uxap"
    xmlns:mvc="sap.ui.core.mvc"
    displayBlock="true"
    xmlns:form="sap.ui.layout.form"
    xmlns:f="sap.f"
    xmlns:l="sap.ui.layout"
    xmlns:fb="sap.ui.comp.filterbar"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:layout="sap.suite.ui.commons.networkgraph.layout"
    height="100%"
    xmlns:dnd="sap.ui.core.dnd"
    xmlns:t="sap.ui.table"
    xmlns:suite="sap.suite.ui.commons"
    xmlns:rte="sap.ui.richtexteditor"
    xmlns:grid="sap.ui.layout.cssgrid"
    xmlns:tnt="sap.tnt"
    xmlns:dnd-grid="sap.f.dnd"
    xmlns:commons="sap.suite.ui.commons"
>


    <f:DynamicPage
        id="TeamPage"
        title="Engagement"
        backgroundDesign="List"
    >
        <f:title>
            <f:DynamicPageTitle>
                <f:heading>
                    <Title
                        text="{firstName}'s Engagement Snapshot"
                        id="headerTitle"
                    />
                </f:heading>
            </f:DynamicPageTitle>
        </f:title>
        <!-- <f:header>
			<f:DynamicPageHeader pinnable="true">
			
				</f:content>
			</f:DynamicPageHeader>
		</f:header> -->
        <f:content>
            <VBox>
                <HBox renderType="Bare">
                    <f:GridList
                        id="sentForProposalTable"
                        mode="SingleSelectMaster"
                        items="{path: 'ProjectModel>/sentForProposal'}"
                        selectionChange="onSelectionChange"
                        class="sapUiResponsiveContentPadding"
                        sticky="ColumnHeaders,HeaderToolbar"
                        delete="onGridListItemDelete"
                        noDataText="Hmm.. time to send new Proposals?" 
                        
                    >
                       

                        <f:dragDropConfig>
                             <dnd:DragInfo sourceAggregation="items" />
                            <dnd-grid:GridDropInfo
                                targetAggregation="items"
                                dropPosition="Between"
                                dropLayout="Horizontal"
                                drop="onDrop"
                            />
                        </f:dragDropConfig>
                        <f:headerToolbar>
                            <Toolbar width="100%">
                                <Text text="Sent for Proposal" />
                                <ToolbarSpacer />
                                <Button
                                    icon="sap-icon://add"
                                    tooltip="Add New Project to 'Sent for Proposal'"
                                    press="onAddProjectPress"
                                />
                            </Toolbar>
                        </f:headerToolbar>

                        <f:GridListItem 
                            press="onGridListItemPress"
                            detailPress="onGridListItemEdit"
                            type="Active"
                        >
                            <VBox
                                height="100%"
                                justifyContent="SpaceBetween"
                            >
                                <layoutData>
                                    <FlexItemData
                                        growFactor="1"
                                        shrinkFactor="0"
                                    />
                                </layoutData>
                                <VBox class="sapUiSmallMargin">
                                    <HBox justifyContent="SpaceBetween">
                                        <Title
                                            text="{ProjectModel>account}"
                                            wrapping="true"
                                        />

                                        <ObjectStatus
                                            text="{ProjectModel>status}"
                                            class="sapUiTinyMarginBottom"
                                        />
                                    </HBox>
                                </VBox>


                                  <OverflowToolbar height="45px">
                                                        <HBox><tnt:InfoLabel
                                        text="{ProjectModel>topic}"
                                        colorScheme="{path:'ProjectModel>topic', formatter:'.formatter.topicColorSchemeFormatter'}"
                                        visible="{= ${ProjectModel>topic} !== null}"
                                        renderMode="Narrow" />
                                                          
                                                        </HBox>

                                                        <ToolbarSpacer />
                                                       	<Button icon="sap-icon://full-screen" press="onProjectPopup"/>
                                                    </OverflowToolbar>


                            </VBox>
                        </f:GridListItem>
                    </f:GridList>

                    <VBox
                        justifyContent="Center"
                    >
                        <Button
                            class="sapUiTinyMarginBottom"
                            icon="sap-icon://navigation-right-arrow"
                            tooltip="Move to selected"
                            press="onRightSentForProposal"
                        />
                        <Button
                            icon="sap-icon://navigation-left-arrow"
                            tooltip="Move to available"
                            press="onLeftRFP"
                        />
                    </VBox>

                    <f:GridList
                        id="RFPTable"
                       mode="SingleSelectMaster"
                        items="{path: 'ProjectModel>/RFP'}"
                        selectionChange="onSelectionChange"
                        class="sapUiResponsiveContentPadding"
                        sticky="ColumnHeaders,HeaderToolbar"
                        delete="onGridListItemDelete"
                        noDataText="No RFP's"
                    >
                        <f:dragDropConfig>
                             <dnd:DragInfo sourceAggregation="items" />
                            <dnd-grid:GridDropInfo
                                targetAggregation="items"
                                dropPosition="Between"
                                dropLayout="Horizontal"
                                drop="onDrop"
                            />
                        </f:dragDropConfig>
                        <f:headerToolbar>
                            <Toolbar width="100%">
                                <Text text="RFP" />
                                <ToolbarSpacer />
                                <Button
                                    icon="sap-icon://add"
                                    tooltip="Add New Project to 'RFP'"
                                    press="onAddProjectPress"
                                />
                            </Toolbar>
                        </f:headerToolbar>

                        <f:GridListItem 
                            press="onGridListItemPress"
                            detailPress="onGridListItemEdit"
                            type="Active"
                        >
                            <VBox
                                height="100%"
                                justifyContent="SpaceBetween"
                            >
                                <layoutData>
                                    <FlexItemData
                                        growFactor="1"
                                        shrinkFactor="0"
                                    />
                                </layoutData>
                                <VBox class="sapUiSmallMargin">
                                    <HBox justifyContent="SpaceBetween">
                                        <Title
                                            text="{ProjectModel>account}"
                                            wrapping="true"
                                        />

                                        <ObjectStatus
                                            text="{ProjectModel>status}"
                                            class="sapUiTinyMarginBottom"
                                        />
                                    </HBox>
                                </VBox>
                                  <OverflowToolbar height="45px">
                                                        <HBox><tnt:InfoLabel
                                        text="{ProjectModel>topic}"
                                        colorScheme="{path:'ProjectModel>topic', formatter:'.formatter.topicColorSchemeFormatter'}"
                                        visible="{= ${ProjectModel>topic} !== null}"
                                        renderMode="Narrow" />
                                                          
                                                        </HBox>

                                                        <ToolbarSpacer />
                                                       	<Button icon="sap-icon://full-screen" press="onProjectPopup" />
                                                    </OverflowToolbar>
                            </VBox>
                        </f:GridListItem>
                    </f:GridList>

                    <VBox
                        justifyContent="Center"
                    >
                        <Button
                            class="sapUiTinyMarginBottom"
                            icon="sap-icon://navigation-right-arrow"
                            tooltip="Move to selected"
                            press="onRightRFP"
                        />
                        <Button
                            icon="sap-icon://navigation-left-arrow"
                            tooltip="Move to available"
                           press="onLeftOnGoing"
                        />
                    </VBox>

                     <f:GridList
                        id="OnGoingTable"
                        mode="SingleSelectMaster"
                        items="{path: 'ProjectModel>/On-Going'}"
                        selectionChange="onSelectionChange"
                        class="sapUiResponsiveContentPadding"
                        sticky="ColumnHeaders,HeaderToolbar"
                        delete="onGridListItemDelete"
                        noDataText="No On-Going Projects" >
                       <f:dragDropConfig>
                             <dnd:DragInfo sourceAggregation="items" />
                            <dnd-grid:GridDropInfo
                                targetAggregation="items"
                                dropPosition="Between"
                                dropLayout="Horizontal"
                                drop="onDrop"
                            />
                        </f:dragDropConfig>


                        <f:headerToolbar>
                            <Toolbar width="100%">
                                <Text text="On-Going" />
                                <ToolbarSpacer />
                                <Button
                                    icon="sap-icon://add"
                                    tooltip="Add New Project to 'On-Going'"
                                    press="onAddProjectPress"
                                />
                            </Toolbar>
                        </f:headerToolbar>

                        <f:GridListItem 
                            press="onGridListItemPress"
                            detailPress="onGridListItemEdit"
                            type="Active"
                        >
                            <VBox
                                height="100%"
                                justifyContent="SpaceBetween"
                            >
                                <layoutData>
                                    <FlexItemData
                                        growFactor="1"
                                        shrinkFactor="0"
                                    />
                                </layoutData>
                                <VBox class="sapUiSmallMargin">
                                    <HBox justifyContent="SpaceBetween">
                                        <Title
                                            text="{ProjectModel>account}"
                                            wrapping="true"
                                        />

                                        <ObjectStatus
                                            text="{ProjectModel>status}"
                                            class="sapUiTinyMarginBottom"
                                        />
                                    </HBox>
                                </VBox>
                                 <OverflowToolbar height="45px">
                                                        <HBox><tnt:InfoLabel
                                        text="{ProjectModel>topic}"
                                        colorScheme="{path:'ProjectModel>topic', formatter:'.formatter.topicColorSchemeFormatter'}"
                                        visible="{= ${ProjectModel>topic} !== null}"
                                        renderMode="Narrow" />
                                                          
                                                        </HBox>

                                                        <ToolbarSpacer />
                                                       	<Button icon="sap-icon://full-screen" press="onProjectPopup"/>
                                                    </OverflowToolbar>
                            </VBox>
                        </f:GridListItem>
                    </f:GridList>

                    <VBox
                        justifyContent="Center"
                    >
                        <Button
                            class="sapUiTinyMarginBottom"
                            icon="sap-icon://navigation-right-arrow"
                            tooltip="Move to selected"
                            press="onRightOnGoing"
                        />
                        <Button
                            icon="sap-icon://navigation-left-arrow"
                            tooltip="Move to available"
                            press="onLeftGoLive"
                        />
                    </VBox>

                     <f:GridList
                        id="GoLiveTable"
                        mode="SingleSelectMaster"
                        items="{path: 'ProjectModel>/Go-Live'}"
                        selectionChange="onSelectionChange"
                        class="sapUiResponsiveContentPadding"
                        sticky="ColumnHeaders,HeaderToolbar"
                        delete="onGridListItemDelete"
                        noDataText="No Go-Lives" 
                    >
                        <f:dragDropConfig>
                             <dnd:DragInfo sourceAggregation="items" />
                            <dnd-grid:GridDropInfo
                                targetAggregation="items"
                                dropPosition="Between"
                                dropLayout="Horizontal"
                                drop="onDrop"
                            />
                        </f:dragDropConfig>
                        <f:headerToolbar>
                            <Toolbar width="100%">
                                <Text text="Go-Lives" />
                                <ToolbarSpacer />
                                <Button
                                    icon="sap-icon://add"
                                     tooltip="Add New Project to 'Go-Live'"
                                    press="onAddProjectPress"
                                />
                            </Toolbar>
                        </f:headerToolbar>

                        <f:GridListItem 
                            press="onGridListItemPress"
                            detailPress="onGridListItemEdit"
                            type="Active"
                        >
                            <VBox
                                height="100%"
                                justifyContent="SpaceBetween"
                            >
                                <layoutData>
                                    <FlexItemData
                                        growFactor="1"
                                        shrinkFactor="0"
                                    />
                                </layoutData>
                                <VBox class="sapUiSmallMargin">
                                    <HBox justifyContent="SpaceBetween">
                                        <Title
                                            text="{ProjectModel>account}"
                                            wrapping="true"
                                        />

                                        <ObjectStatus
                                            text="{ProjectModel>status}"
                                            class="sapUiTinyMarginBottom"
                                        />
                                    </HBox>
                                </VBox>
                                <OverflowToolbar height="45px">
                                                        <HBox><tnt:InfoLabel
                                        text="{ProjectModel>topic}"
                                        colorScheme="{path:'ProjectModel>topic', formatter:'.formatter.topicColorSchemeFormatter'}"
                                        visible="{= ${ProjectModel>topic} !== null}"
                                        renderMode="Narrow" />
                                                          
                                                        </HBox>

                                                        <ToolbarSpacer />
                                                       	<Button icon="sap-icon://full-screen" press="onProjectPopup"/>
                                                    </OverflowToolbar>
                            </VBox>
                        </f:GridListItem>
                    </f:GridList>



                     <VBox
                        justifyContent="Center"
                    >
                        <Button
                            class="sapUiTinyMarginBottom"
                            icon="sap-icon://navigation-right-arrow"
                            tooltip="Move to selected"
                            press="onRightGoLive"
                        />
                        <Button
                            icon="sap-icon://navigation-left-arrow"
                            tooltip="Move to available"
                            press="onLeftPast"
                        />
                    </VBox>

                     <f:GridList
                        id="PastTable"
                        mode="SingleSelectMaster"
                        items="{path: 'ProjectModel>/Past'}"
                        selectionChange="onSelectionChange"
                        class="sapUiResponsiveContentPadding"
                        sticky="ColumnHeaders,HeaderToolbar"
                        delete="onGridListItemDelete"
                        noDataText="No Past Projects" 
                    >
                         <f:dragDropConfig>
                             <dnd:DragInfo sourceAggregation="items" />
                            <dnd-grid:GridDropInfo
                                targetAggregation="items"
                                dropPosition="Between"
                                dropLayout="Horizontal"
                                drop="onDrop"
                            />
                        </f:dragDropConfig>
                        <f:headerToolbar>
                            <Toolbar width="100%">
                                <Text text="Archive" />
                                <ToolbarSpacer />
                                <Button
                                    icon="sap-icon://add"
                                     tooltip="Add New Project to 'Past'"
                                    press="onAddProjectPress"
                                />
                            </Toolbar>
                        </f:headerToolbar>

                        <f:GridListItem 
                            press="onGridListItemPress"
                            detailPress="onGridListItemEdit"
                            type="Active"
                        >
                            <VBox
                                height="100%"
                                justifyContent="SpaceBetween"
                            >
                                <layoutData>
                                    <FlexItemData
                                        growFactor="1"
                                        shrinkFactor="0"
                                    />
                                </layoutData>
                                <VBox class="sapUiSmallMargin">
                                    <HBox justifyContent="SpaceBetween">
                                        <Title
                                            text="{ProjectModel>account}"
                                            wrapping="true"
                                        />

                                        <ObjectStatus
                                            text="{ProjectModel>status}"
                                            class="sapUiTinyMarginBottom"
                                        />
                                    </HBox>
                                </VBox>
                                 <OverflowToolbar height="45px">
                                                        <HBox><tnt:InfoLabel
                                        text="{ProjectModel>topic}"
                                        colorScheme="{path:'ProjectModel>topic', formatter:'.formatter.topicColorSchemeFormatter'}"
                                        visible="{= ${ProjectModel>topic} !== null}"
                                        renderMode="Narrow" />
                                                          
                                                        </HBox>

                                                        <ToolbarSpacer />
                                                       	<Button icon="sap-icon://full-screen" press="onProjectPopup" />
                                                    </OverflowToolbar>
                            </VBox>
                        </f:GridListItem>
                    </f:GridList>

                </HBox>

                <!-- horizontal table, go live  -->
<!-- 
                <Table
                    class="sapUiLargeMarginTop"
                    id="tableDrop4"
                    mode="SingleSelectMaster"
                    growing="true"
                    growingThreshold="10"
                    beforeOpenContextMenu="onBeforeOpenContextMenu"
                    items="{
			path: '/opportunityHeader'
		}"
                    noDataText="Please drag-and-drop products here."
                >
                    <contextMenu>
                        <Menu>
                            <MenuItem
                                text="Move to Available Products"
                                press="moveToAvailableProductsTable"
                            />
                            <MenuItem
                                text="Move up"
                                press="moveUp"
                            />
                            <MenuItem
                                text="Move down"
                                press="moveDown"
                            />
                        </Menu>
                    </contextMenu>
                    <headerToolbar>
                        <OverflowToolbar>
                            <Title text="Go Live" />
                            <ToolbarSpacer />
                            <Button
                                icon="sap-icon://navigation-up-arrow"
                                tooltip="Move up"
                                press="moveUp"
                            />
                            <Button
                                icon="sap-icon://navigation-down-arrow"
                                tooltip="Move down"
                                press="moveDown"
                            />
                        </OverflowToolbar>
                    </headerToolbar>
                    <columns>
                        <Column hAlign="Center">
                            <Text text="Product Name" />
                        </Column>
                    </columns>
                    <dragDropConfig>
                        <dnd:DragInfo
                            groupName="selected2available"
                            sourceAggregation="items"
                        />
                        <dnd:DropInfo
                            groupName="available2selected"
                            targetAggregation="items"
                            dropPosition="Between"
                            drop="onDropSelectedProductsTable"
                        />
                        <dnd:DragDropInfo
                            sourceAggregation="items"
                            targetAggregation="items"
                            dropPosition="Between"
                            drop="onDropSelectedProductsTable"
                        />
                    </dragDropConfig>
                    <items>
                        <ColumnListItem>
                            <cells>
                                <Text
                                    text="{account}"
                                    wrapping="false"
                                />
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table> -->
            </VBox>
        </f:content>
    </f:DynamicPage>
</mvc:View>
