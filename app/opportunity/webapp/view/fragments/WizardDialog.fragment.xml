<core:FragmentDefinition
	xmlns="sap.m"
	xmlns:core="sap.ui.core"
	xmlns:l="sap.ui.layout"
	xmlns:f="sap.ui.layout.form"
	xmlns:u="sap.ui.unified"
	xmlns:c="sap.ui.comp"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:form="sap.ui.layout.form"
	xmlns:rte="sap.ui.richtexteditor">
	<Dialog  id="myWizardDialog" class="sapUiSizeCompact" contentWidth="70%"  resizable="true" draggable="true">

<!-- <Button icon="sap-icon://full-screen" press="onFullScreenButtonPress" /> -->

<customHeader>
<Bar><contentMiddle>
<Title text="Create Opportunity"/>
</contentMiddle>
<contentRight>
<Button icon="sap-icon://full-screen" press="onFullScreenButtonPress" />
</contentRight>
</Bar>
</customHeader>

		<VBox class="sapUiSmallMargin">
			<Wizard finishButtonText="Review" complete="onCreateNewItem" id="WizardDialog">
				<steps>

                <!-- step 1 -->
					<WizardStep id="WizardStep1" title="General Information">

						<form:SimpleForm editable="true"
						>
							<Label text="{i18n>account}" required="true"/>
							<Input value="{viewModel>/account}" id="accountCreate" liveChange="additionalInfoValidation" />
							<Label text="{i18n>marketUnit}" required="true"/>
							<ComboBox selectedKey="{viewModel>/marketUnit}">
								<core:Item key="BeLux" text="BeLux"/>
								<core:Item key="France" text="France"/>
								<core:Item key="Netherlands" text="Netherlands"/>
								<core:Item key="Nordics" text="Nordics"/>
								<core:Item key="UKI" text="UKI"/>
							</ComboBox>

							<Label text="Q. Created" />
							<ComboBox selectedKey="{viewModel>/opportunityCreatedQuarter}">
								<core:Item key="Q1" text="Q1"/>
								<core:Item key="Q2" text="Q2"/>
								<core:Item key="Q3" text="Q3"/>
								<core:Item key="Q4" text="Q4"/>
							</ComboBox>

							<Label text="Q. Closed" />
							<ComboBox selectedKey="{viewModel>/opportunityClosedQuarter}">
								<core:Item key="Q1" text="Q1"/>
								<core:Item key="Q2" text="Q2"/>
								<core:Item key="Q3" text="Q3"/>
								<core:Item key="Q4" text="Q4"/>
							</ComboBox>

							<Label text="{i18n>opportunityStartDate}"/>
							<DatePicker value="{viewModel>/opportunityStartDate}" id="dateCreate"  />

							<Label text="{i18n>opportunityDueDate}"/>
							<DatePicker value="{viewModel>/opportunityDueDate}" id="dueDateCreate"  />

							<Label text="Value (k)"/>
							<Input value="{viewModel>/opportunityValue}" id="valueCreate"  />
							
							<!-- <Label text="{i18n>opportunityInCRM}"/>
                            <CheckBox text="No"
                            id="opportunityInCRMText"
                            select="onCRMCheckboxSelect"/> -->

							<Label text="{i18n>priority}" />
							<ComboBox selectedKey="{viewModel>/priority}">
								<core:Item key="High" text="High"/>
								<core:Item key="Medium" text="Medium"/>
								<core:Item key="Low" text="Low"/>
							</ComboBox>

							<Label text="{i18n>progress}" />
							<Slider value="{viewModel>/progress}" width="100%" step="25"
							min="0" max="100"
							showAdvancedTooltip="true"
							showHandleTooltip="false"
							class="sapUiMediumMarginBottom" />

							<Label text="{i18n>opportunityInCRM}"/>
							<CheckBox text="No" selected="{viewModel>/opportunityInCRM}" id="opportunityInCRMCreate" select=".onCRMCheckboxSelect" />

							
						</form:SimpleForm>
						
						<HBox alignItems="Center" justifyContent="Center" width="100%" >
							<SegmentedButton id="segmentedStatus" width="480px" >
								<items>
									<SegmentedButtonItem icon="sap-icon://overlay" text="Opportunity" key="Opportunity"/>
									<SegmentedButtonItem icon="sap-icon://flag-2" text="Lead" key="Lead"/>
									<SegmentedButtonItem icon="sap-icon://pause" text="Paused"  key="Paused"/>
									<SegmentedButtonItem icon="sap-icon://checklist-item" text="Completed" key="Completed"/>
								
								</items>
							</SegmentedButton>
						</HBox>
					</WizardStep>

                    <!-- step 2 -->
					<WizardStep id="WizardStep2" title="Content">

                        <VBox justifyContent="Center" alignContent="Center">
                        <Toolbar class="sapUiResponsiveMargin">
                            <Label text="{i18n>Topics}" class="myTitle"/> 
                            <ToolbarSpacer/>
                            <ToggleButton text="Select All" press="onSelectAllTopicsPress"/>
                            <Button tooltip="Add Topic" icon="sap-icon://add" press="onAddTopicPress"/>
                        </Toolbar>
                           
							 <HBox justifyContent="Center" alignContent="Center">
                                <l:HorizontalLayout id="TopicFilters" allowWrapping="true" class="sapUiResponsiveMargin " content="{}"  >
                                    <ToggleButton text="{topic}" press="onPressToggle1" class="sapUiSmallMarginEnd">
                                        <customData>
                                            <core:CustomData key="ID" value="{topic}" class="sapUiNoMarginTop sapUiNoMarginBottom"/>
                                        </customData>
                                    </ToggleButton>
                                </l:HorizontalLayout>
								</HBox>
                            </VBox>

						<VBox justifyContent="Center" alignContent="Center">
                        <Toolbar class="sapUiResponsiveMargin">
                            <Label text="{i18n>Deliverables}" class="myTitle"/> 
                            <ToolbarSpacer/>
                            <ToggleButton text="Select All" press="onSelectAllDeliverablesPress"/>
                            <Button tooltip="Add Deliverable" icon="sap-icon://add" press="onAddDeliverablePress"/>
                        </Toolbar>
                            
							 <HBox justifyContent="Center" alignContent="Center">
                                <l:HorizontalLayout id="DeliverablesFilters" allowWrapping="true" class="sapUiResponsiveMargin " content="{}"  >
                                    <ToggleButton text="{deliverable}" press="onPressToggle1" class="sapUiSmallMarginEnd">
                                        <customData>
                                            <core:CustomData key="ID" value="{deliverable}" class="sapUiNoMarginTop sapUiNoMarginBottom"/>
                                        </customData>
                                    </ToggleButton>
                                </l:HorizontalLayout>
								</HBox>
                            </VBox> 
					</WizardStep>

                    <!-- step 3 -->
					<WizardStep id="WizardStep3" title="Contacts" >
						<form:SimpleForm editable="true"  >
							
							<Label text="{i18n>primaryContact}" />
							<Input id="primaryContact" value="{viewModel>/primaryContact}" />

                            <Label text="{i18n>clientContactPerson}" />
							<Input type="Text" value="{viewModel>/clientContactPerson}" id="clientContactPerson" />

                            <Label text="{i18n>ssa}" />
							<Input id="ssa" value="{viewModel>/ssa}" />

                            <Label text="{i18n>source}" />
							<Input id="source" value="{viewModel>/source}" />


						</form:SimpleForm>
					</WizardStep>
					<WizardStep id="WizardStep4" title="Notes" validated="false">
					
						<rte:RichTextEditor 
						value="{viewModel>/noteText}"
						id="myRTE" 
						width="100%" 
						height="500px" 
						showGroupFont="true" 
						showGroupLink="true" 
						showGroupUndo="true"
						/>

					</WizardStep>

				</steps>
			</Wizard>
		</VBox>

		<footer>
        <Toolbar>
            <content>
			
				<!-- <Button text="Next Step" press="onNextStep" type="Emphasized"/> -->

			<ToolbarSpacer />
			<Button text="Delete" press="onDeleteTopic" />
				<Button text="Previous Step" press="onPreviousStep" />
               <Button type="Reject" text="{i18n>cancel}" press="onCloseWizardPress" />
			   <Button type="Accept" text="{i18n>save}" press="onSaveWizardPress" />
            </content>
        </Toolbar>
    </footer>


	</Dialog>
</core:FragmentDefinition>