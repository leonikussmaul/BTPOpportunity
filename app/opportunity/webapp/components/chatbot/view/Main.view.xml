<mvc:View
    controllerName="chatbot.controller.Main"
    displayBlock="true"
    xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:webc="sap.ui.webc.main"
    xmlns:f="sap.f"
    xmlns:layout="sap.ui.layout"
    height="100%"
>
    <f:DynamicPage
        id="chatPage"
        class="sapUiContentPadding sapUiTinyMarginTop"
        showFooter="true"
    >
        <f:title>
            <f:DynamicPageTitle>
                <f:heading>
                    <Title
                        text="Got a Question?"
                        class="chatPage"
                    />
                </f:heading>
            </f:DynamicPageTitle>
        </f:title>

        <f:header>
            <f:DynamicPageHeader pinnable="false">
                <layout:HorizontalLayout>
                    <layout:VerticalLayout class="sapUiMediumMarginEnd">
                        <ObjectAttribute text="Experience Generative AI coupled with the power of SAP HANA Vector Engine." />
                    </layout:VerticalLayout>
                </layout:HorizontalLayout>
            </f:DynamicPageHeader>
        </f:header>
        <f:content>
            <ScrollContainer
                id="scrollContainer"
                height="100%"
                vertical="true"
            >
                <VBox
                    class="sapUiMediumMarginBottom"
                    height="100%"
                >
                    <MessageStrip
                        text="This content gets generated by AI. It may contain errors or inaccuracies."
                        type="Information"
                        showCloseButton="true"
                        showIcon="true"
                    />
                    <List
                        backgroundDesign="Transparent"
                        id="feedList"
                        showSeparators="None"
                        items="{chatModel>/EntryCollection}"
                        noData="{= ${chatModel>/EntryCollection}.length === 0}"
                    >
                        <items>
                            <FeedListItem
                                sender="{chatModel>Author}"
                                info="{chatModel>Type}"
                                timestamp="{chatModel>Date}"
                                text="{chatModel>Text}"
                                showIcon="false"
                                convertLinksToAnchorTags="All"
                            />
                        </items>
                        <noData>
                            <IllustratedMessage
                                enableVerticalResponsiveness="true"
                                illustrationType="{= ${chatModel>/selectedIllustrationType} }"
                                title="Start a Chat"
                                description="Ask your question related to this tool or our workshops below."
                            >
                                <additionalContent>
                                    <Button
                                        icon="sap-icon://study-leave"
                                        iconFirst="false"
                                        type="Accept"
                                        text="Learn more about Genie AI"
                                        press="onSharePointPress"
                                    />
                                </additionalContent>
                            </IllustratedMessage>
                        </noData>
                    </List>

                    <Text
                        id="listEndMarker"
                        text=""
                        visible="true"
                    />
                </VBox>
            </ScrollContainer>
        </f:content>

        <f:footer>
            <OverflowToolbar
                height="100px"
                class="sapUiSmallMarginBottom"
            >
                <FeedInput
                    icon="./images/genie/genie.ico"
                    value="{chatModel>/userInput}"
                    id="newMessageInput"
                    post="onPostMessage"
                    showIcon="true"
                    placeholder="Talk to me naturally. For example, 'When is the next workshop planned?'"
                />
            </OverflowToolbar>
        </f:footer>
    </f:DynamicPage>
</mvc:View>
